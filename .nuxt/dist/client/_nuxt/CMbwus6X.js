import k from"./Dode81xk.js";import{_ as E}from"./8zFGha8m.js";import{e as y,f as g,c as l,a as s,b as x,w as h,g as V,h as d,i as p,v as b,n as f,t as u,d as v,o as i}from"./BP5jC66-.js";const q={class:"py-20 md:py-28 bg-secondary","data-aos":"fade-down"},N={class:"container-custom"},S={class:"max-w-3xl mx-auto"},C={class:"py-16 md:py-24","data-aos":"fade-up"},M={class:"container-custom"},O={class:"max-w-2xl mx-auto bg-white rounded-xl shadow-md p-8"},P={key:0,class:"mt-1 text-sm text-red-500"},T={key:0,class:"mt-1 text-sm text-red-500"},U={key:0,class:"mt-1 text-sm text-red-500"},B={key:0,class:"mt-1 text-sm text-red-500"},D=["disabled"],H={key:0,class:"mr-2"},I={__name:"contact",setup($){const a=y({name:"",email:"",subject:"",message:""}),t=y({name:"",email:"",subject:"",message:""}),c=g(!1),r=g(null),_=()=>{let o=!0;Object.keys(t).forEach(m=>t[m]=""),a.name.trim()||(t.name="El nombre es requerido",o=!1);const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.email.trim()?e.test(a.email)||(t.email="Por favor ingrese un correo electrónico válido",o=!1):(t.email="El correo electrónico es requerido",o=!1),a.subject.trim()||(t.subject="El asunto es requerido",o=!1),a.message.trim()?a.message.trim().length<10&&(t.message="El mensaje debe tener al menos 10 caracteres",o=!1):(t.message="El mensaje es requerido",o=!1),o},j=async()=>{if(_()){c.value=!0,r.value=null;try{const o=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await o.json();o.ok?(r.value={success:!0,message:"¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto."},Object.keys(a).forEach(m=>a[m]="")):r.value={success:!1,message:e.error||"Hubo un error al enviar el mensaje. Por favor intenta de nuevo."}}catch(o){console.error("Error sending email:",o),r.value={success:!1,message:"Hubo un error al enviar el mensaje. Por favor intenta de nuevo."}}finally{c.value=!1}}};return(o,e)=>{const m=k,w=E;return i(),l("div",null,[s("section",q,[s("div",N,[s("div",S,[x(w,{to:"/",class:"inline-flex items-center text-primary font-medium mb-6 hover:underline","data-aos":"fade-right","data-aos-delay":"100"},{default:h(()=>[x(m,{name:"lucide:arrow-left",class:"h-4 w-4 mr-2"}),e[4]||(e[4]=v(" Volver al inicio "))]),_:1}),e[5]||(e[5]=s("h1",{class:"text-3xl md:text-5xl font-bold mb-6 text-primary","data-aos":"fade-up","data-aos-delay":"200"}," Contacto ",-1)),e[6]||(e[6]=s("p",{class:"text-gray-700 text-lg mb-10","data-aos":"fade-up","data-aos-delay":"300"}," Estamos aquí para ayudarte. Envíanos un mensaje y nos pondremos en contacto contigo lo antes posible. ",-1))])])]),s("section",C,[s("div",M,[s("div",O,[s("form",{onSubmit:V(j,["prevent"]),class:"space-y-6"},[s("div",null,[e[7]||(e[7]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre",-1)),p(s("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=n=>a.name=n),class:f(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":t.name}]),required:""},null,2),[[b,a.name]]),t.name?(i(),l("p",P,u(t.name),1)):d("",!0)]),s("div",null,[e[8]||(e[8]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Correo electrónico",-1)),p(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=n=>a.email=n),class:f(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":t.email}]),required:""},null,2),[[b,a.email]]),t.email?(i(),l("p",T,u(t.email),1)):d("",!0)]),s("div",null,[e[9]||(e[9]=s("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-1"},"Asunto",-1)),p(s("input",{type:"text",id:"subject","onUpdate:modelValue":e[2]||(e[2]=n=>a.subject=n),class:f(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":t.subject}]),required:""},null,2),[[b,a.subject]]),t.subject?(i(),l("p",U,u(t.subject),1)):d("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{for:"message",class:"block text-sm font-medium text-gray-700 mb-1"},"Mensaje",-1)),p(s("textarea",{id:"message","onUpdate:modelValue":e[3]||(e[3]=n=>a.message=n),rows:"5",class:f(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",{"border-red-500":t.message}]),required:""},null,2),[[b,a.message]]),t.message?(i(),l("p",B,u(t.message),1)):d("",!0)]),s("div",null,[s("button",{type:"submit",class:"w-full bg-primary text-white py-3 px-6 rounded-md hover:bg-primary-dark transition-colors duration-300 flex items-center justify-center",disabled:c.value},[c.value?(i(),l("span",H,[x(m,{name:"lucide:loader",class:"animate-spin h-5 w-5"})])):d("",!0),v(" "+u(c.value?"Enviando...":"Enviar mensaje"),1)],8,D)]),r.value?(i(),l("div",{key:0,class:f([r.value.success?"text-green-600":"text-red-600","text-center mt-4"])},u(r.value.message),3)):d("",!0)],32)])])])])}}};export{I as default};
